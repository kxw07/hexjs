(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"04ba":function(t,e,a){},"0f75":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v(" This is payment page. ")])])}],o={name:"Payment"},i=o,r=a("2877"),c=Object(r["a"])(i,n,s,!1,null,"e52c0c42",null);e["default"]=c.exports},"13d5":function(t,e,a){"use strict";var n=a("23e7"),s=a("d58f").left,o=a("a640"),i=a("ae40"),r=o("reduce"),c=i("reduce",{1:0});n({target:"Array",proto:!0,forced:!r||!c},{reduce:function(t){return s(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container custom-container-width",attrs:{id:"app"}},[a("h2",[t._v("訂單列表")]),a("div",[a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.orders,(function(e,n){return a("tr",{key:e.id},[a("td",[t._v(t._s(n+1))]),a("td",{staticStyle:{"word-break":"break-all","word-wrap":"break-all"}},[t._v(t._s(e.id))]),a("td",t._l(e.products,(function(e,n){return a("ul",{key:n},[a("li",[t._v(t._s(e.product.title)+" x "+t._s(e.quantity))])])})),0),a("td",[t._v(t._s(e.coupon?e.coupon.code:""))]),a("td",{staticClass:"text-right"},[t._v(t._s(e.amount))]),a("td",[t._v(t._s(e.payment))]),a("td",[t._v(t._s(e.created.datetime))]),a("td",[t._v(t._s(e.updated.datetime))]),a("td",[e.paid?a("span",{staticClass:"text-success"},[t._v("已付款")]):a("span",{staticClass:"text-danger"},[t._v("尚未付款")])]),a("td",[0==e.paid?a("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.pay(e)}}},[t._v("付款 ")]):t._e()])])})),0)])]),a("paging",{staticClass:"paging",attrs:{pagination:t.pagination},on:{"change-page":t.getOrders}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{width:"60"}},[t._v("項次")]),a("th",{attrs:{width:"300"}},[t._v("訂單編號")]),a("th",{attrs:{width:"200"}},[t._v("購買商品")]),a("th",{attrs:{width:"120"}},[t._v("優惠券")]),a("th",{attrs:{width:"100"}},[t._v("總價")]),a("th",{attrs:{width:"120"}},[t._v("付款方式")]),a("th",{attrs:{width:"120"}},[t._v("建立時間")]),a("th",{attrs:{width:"120"}},[t._v("更新時間")]),a("th",{attrs:{width:"120"}},[t._v("付款狀態")]),a("th",[t._v("編輯")])])])}],o=(a("99af"),a("bbe0")),i={name:"Orders",components:{paging:o["a"]},data:function(){return{orders:[],pagination:{}}},created:function(){this.getOrders()},methods:{getOrders:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pagination.current_page||1,a=this.$loading.show();this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/orders?page=").concat(e)).then((function(e){t.orders=t._.sortBy(e.data.data,["updated","created"]),t.pagination=e.data.meta.pagination,a.hide()})).catch((function(t){console.error(t),a.hide()}))},pay:function(t){var e=this,a=this.$loading.show();this.axios.post("".concat("https://course-ec-api.hexschool.io","/api/").concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/orders/").concat(t.id,"/paying")).then((function(t){e.getOrders(e.pagination.current_page),a.hide()})).catch((function(t){console.error(t),a.hide()}))}}},r=i,c=(a("ac52"),a("2877")),l=Object(c["a"])(r,n,s,!1,null,null,null);e["default"]=l.exports},"81e6":function(t,e,a){"use strict";var n=a("04ba"),s=a.n(n);s.a},"99af":function(t,e,a){"use strict";var n=a("23e7"),s=a("d039"),o=a("e8b5"),i=a("861d"),r=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),h=a("2d00"),v=p("isConcatSpreadable"),f=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!s((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),_=d("concat"),b=function(t){if(!i(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)},C=!m||!_;n({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,n,s,o,i=r(this),d=u(i,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?i:arguments[e],b(o)){if(s=c(o.length),p+s>f)throw TypeError(g);for(a=0;a<s;a++,p++)a in o&&l(d,p,o[a])}else{if(p>=f)throw TypeError(g);l(d,p++,o)}return d.length=p,d}})},a203:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("This is cart info.")])])}],o={name:"Info"},i=o,r=a("2877"),c=Object(r["a"])(i,n,s,!1,null,"488975e8",null);e["default"]=c.exports},a434:function(t,e,a){"use strict";var n=a("23e7"),s=a("23cb"),o=a("a691"),i=a("50c4"),r=a("7b0b"),c=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),p=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,f=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!h},{splice:function(t,e){var a,n,u,d,p,h,_=r(this),b=i(_.length),C=s(t,b),y=arguments.length;if(0===y?a=n=0:1===y?(a=0,n=b-C):(a=y-2,n=f(v(o(e),0),b-C)),b+a-n>g)throw TypeError(m);for(u=c(_,n),d=0;d<n;d++)p=C+d,p in _&&l(u,d,_[p]);if(u.length=n,a<n){for(d=C;d<b-n;d++)p=d+n,h=d+a,p in _?_[h]=_[p]:delete _[h];for(d=b;d>b-n+a;d--)delete _[d-1]}else if(a>n)for(d=b-n;d>C;d--)p=d+n-1,h=d+a-1,p in _?_[h]=_[p]:delete _[h];for(d=0;d<a;d++)_[d+C]=arguments[d+2];return _.length=b-n+a,u}})},ac52:function(t,e,a){"use strict";var n=a("c89e"),s=a.n(n);s.a},b789:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[a("div",{staticClass:"my-5 row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"text-right mb-2"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.deleteAllItem()}}},[t._v("刪除全部 ")])]),a("table",{staticClass:"table"},[t._m(0),a("tbody",t._l(t.shoppingList,(function(e,n){return a("tr",{key:e.product.id},[a("td",{staticClass:"align-middle"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return t.deleteItem(e,n)}}},[t._v("刪除 ")])]),a("td",{staticClass:"align-middle"},[t._v(t._s(n+1))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-outline-primary",on:{click:function(a){return t.addItemQuantity(e,1)}}},[t._v("+")])]),a("input",{staticClass:"form-control text-center",attrs:{type:"text"},domProps:{value:e.quantity}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:e.quantity<=1},on:{click:function(a){return t.addItemQuantity(e,-1)}}},[t._v("- ")])])])]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.unit))]),a("td",{staticClass:"align-middle text-right"},[t._v(t._s(e.product.price))])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v(" 總計 ")]),a("td",{staticClass:"text-right"},[t._v(" "+t._s(t.calculateTotalPrice)+" ")])])])])])]),a("paging",{staticClass:"paging",attrs:{pagination:t.pagination},on:{"change-page":t.getCartList}}),a("div",{staticClass:"my-5 row justify-content-center"},[a("ValidationObserver",{staticClass:"col-md-6",scopedSlots:t._u([{key:"default",fn:function(e){var n=e.invalid;return[a("form",{on:{submit:function(e){return e.preventDefault(),t.sendOrder(e)}}},[a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.classes,o=e.passed;return[a("label",{attrs:{for:"username"}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",class:s,attrs:{id:"username",type:"text",name:"姓名"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),o?a("span",[t._v("檢查通過")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.classes,o=e.passed;return[a("label",{attrs:{for:"email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:s,attrs:{id:"email",type:"email",name:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),o?a("span",[t._v("檢查通過")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required|numeric|min:9"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.classes,o=e.passed;return[a("label",{attrs:{for:"tel"}},[t._v("聯絡電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"form-control",class:s,attrs:{id:"tel",type:"tel",name:"聯絡電話"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),o?a("span",[t._v("檢查通過")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.classes,o=e.passed;return[a("label",{attrs:{for:"address"}},[t._v("寄件地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"form-control",class:s,attrs:{id:"address",type:"text",name:"寄件地址"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}}),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),o?a("span",[t._v("檢查通過")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.errors,s=e.classes,o=e.passed;return[a("label",{attrs:{for:"payMethod"}},[t._v("付款方式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.payMethod,expression:"payMethod"}],staticClass:"form-control",class:s,attrs:{id:"payMethod",name:"付款方式"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.payMethod=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("請選擇付款方式")]),a("option",[t._v("WebATM")]),a("option",[t._v("ATM")]),a("option",[t._v("Barcode")]),a("option",[t._v("Credit")]),a("option",[t._v("ApplePay")]),a("option",[t._v("GooglePay")])]),a("span",{staticClass:"invalid-feedback"},[t._v(t._s(n[0]))]),o?a("span",[t._v("檢查通過")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",[a("label",{attrs:{for:"coupon"}},[t._v("優惠券")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon,expression:"coupon"}],staticClass:"form-control",attrs:{id:"coupon",name:"優惠券",cols:"30",row:"3"},domProps:{value:t.coupon},on:{blur:t.searchCoupon,input:function(e){e.target.composing||(t.coupon=e.target.value)}}})])],1),a("div",{staticClass:"form-group"},[a("ValidationProvider",[a("label",{attrs:{for:"message"}},[t._v("備註")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"form-control",attrs:{id:"message",name:"備註",cols:"30",row:"3"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])],1),a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:n}},[t._v("Send")])])])]}}])})],1)],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("編輯")]),a("th",[t._v("項次")]),a("th",[t._v("品名")]),a("th",{attrs:{width:"150px"}},[t._v("數量")]),a("th",[t._v("單位")]),a("th",[t._v("單價")])])])}],o=(a("99af"),a("13d5"),a("a434"),a("7bb1")),i=a("bbe0"),r={name:"Cart",components:{ValidationProvider:o["b"],ValidationObserver:o["a"],paging:i["a"]},data:function(){return{shoppingList:[],totalPrice:0,email:"",username:"",tel:"",address:"",payMethod:"",coupon:"",message:"",couponPercent:1,pagination:{}}},created:function(){this.getCartList()},computed:{calculateTotalPrice:function(){return 0===this.shoppingList.length?0:this.shoppingList.reduce((function(t,e){return t+e.product.price*e.quantity}),0)*this.couponPercent}},methods:{searchCoupon:function(){var t=this;this.axios.post("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/coupon/search"),{code:this.coupon}).then((function(e){t.couponPercent=e.data.data.percent/100,console.log(e)})).catch((function(e){t.couponPercent=1,console.error(e)}))},getCartList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pagination.current_page||1,a=this.$loading.show();this.axios.get("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping?&page=").concat(e)).then((function(e){t.shoppingList=e.data.data,t.pagination=e.data.meta.pagination,a.hide()})).catch((function(t){console.error(t)}))},deleteAllItem:function(){var t=this,e=this.$loading.show();this.axios.delete("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping/all/product")).then((function(a){t.shoppingList=[],console.log(a),e.hide()})).catch((function(t){console.error(t)}))},deleteItem:function(t,e){var a=this,n=this.$loading.show();this.axios.delete("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping/").concat(t.product.id)).then((function(t){a.shoppingList.splice(e,1),console.log(t),n.hide()})).catch((function(t){console.error(t)}))},addItemQuantity:function(t,e){var a=this.$loading.show();this.axios.patch("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping"),{product:t.product.id,quantity:t.quantity+e}).then((function(e){t.quantity=e.data.data.quantity,a.hide()})).catch((function(t){console.error(t),a.hide()}))},sendOrder:function(){var t=this,e=this.$loading.show();this.axios.post("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/orders"),{name:this.username,email:this.email,tel:this.tel,address:this.address,payment:this.payMethod,coupon:this.coupon,message:this.message}).then((function(a){console.log(a),t.getCartList(),e.hide()})).catch((function(t){console.error(t),e.hide()}))}}},c=r,l=a("2877"),u=Object(l["a"])(c,n,s,!1,null,"226de218",null);e["default"]=u.exports},bb51:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("img",{attrs:{alt:"Vue logo",src:a("cf05")}}),n("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._m(0),a("h3",[t._v("Installed CLI Plugins")]),t._m(1),a("h3",[t._v("Essential Links")]),t._m(2),a("h3",[t._v("Ecosystem")]),t._m(3)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v(" For a guide and recipes on how to configure / customize this project,"),a("br"),t._v(" check out the "),a("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-cli documentation")]),t._v(". ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[t._v("babel")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router",target:"_blank",rel:"noopener"}},[t._v("router")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[t._v("eslint")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Core Docs")])]),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Forum")])]),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("Community Chat")])]),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[t._v("Twitter")])]),a("li",[a("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("News")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-router")])]),a("li",[a("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vuex")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[t._v("vue-devtools")])]),a("li",[a("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[t._v("vue-loader")])]),a("li",[a("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[t._v("awesome-vue")])])])}],r={name:"HelloWorld",props:{msg:String}},c=r,l=(a("81e6"),a("2877")),u=Object(l["a"])(c,o,i,!1,null,"5141a303",null),d=u.exports,p={name:"Home",components:{HelloWorld:d}},h=p,v=Object(l["a"])(h,n,s,!1,null,null,null);e["default"]=v.exports},bbe0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[a("button",{staticClass:"btn btn-primary",class:{disabled:t.hasPrevPage()},attrs:{type:"button",disabled:t.hasPrevPage()},on:{click:function(e){return t.changePage(t.pagination.current_page-1)}}},[t._v("上一頁")]),a("button",{staticClass:"btn btn-light",attrs:{type:"button",disabled:!0}},[t._v(t._s(t.pagination.current_page))]),a("button",{staticClass:"btn btn-primary",class:{disabled:t.hasNextPage()},attrs:{type:"button",disabled:t.hasNextPage()},on:{click:function(e){return t.changePage(t.pagination.current_page+1)}}},[t._v("下一頁")])])},s=[],o={name:"paging",data:function(){return{}},props:{pagination:{}},methods:{hasPrevPage:function(){return 1===this.pagination.current_page},hasNextPage:function(){return this.pagination.current_page>this.pagination.total_pages||this.pagination.current_page===this.pagination.total_pages},changePage:function(t){this.$emit("change-page",t)}}},i=o,r=a("2877"),c=Object(r["a"])(i,n,s,!1,null,"2dad2cbc",null);e["a"]=c.exports},c89e:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"},d58f:function(t,e,a){var n=a("1c0b"),s=a("7b0b"),o=a("44ad"),i=a("50c4"),r=function(t){return function(e,a,r,c){n(a);var l=s(e),u=o(l),d=i(l.length),p=t?d-1:0,h=t?-1:1;if(r<2)while(1){if(p in u){c=u[p],p+=h;break}if(p+=h,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=h)p in u&&(c=a(c,u[p],p,l));return c}};t.exports={left:r(!1),right:r(!0)}},e6dc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"app"}},[t.showModal?a("product-modal",{attrs:{product:t.product},on:{close:function(e){t.showModal=!1},addToCart:t.addToCart}}):t._e(),a("div",{staticClass:"row mt-4"},t._l(t.products,(function(e){return a("div",{key:e.id,staticClass:"col-md-4 mb-4"},[a("div",{staticClass:"card border-0 shadow-sm"},[a("div",{staticStyle:{height:"150px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+e.imageUrl+")"}}),a("div",{staticClass:"card-body"},[a("span",{staticClass:"badge badge-secondary float-right ml-2"},[t._v(t._s(e.category))]),a("h5",{staticClass:"card-title"},[t._v(t._s(e.title))]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[e.price?a("div",[a("del",{staticClass:"h6"},[t._v("原價 "+t._s(e.origin_price)+" 元")]),a("div",{staticClass:"h5"},[t._v(" 現在只要 "+t._s(e.price)+" 元 ")])]):a("div",{staticClass:"h5"},[t._v(" "+t._s(e.origin_price)+" 元 ")])])]),a("div",{staticClass:"card-footer d-flex"},[a("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"},on:{click:function(a){return t.getProductDetail(e.id)}}},[t._v(" 查看更多 ")]),a("button",{staticClass:"btn btn-outline-danger btn-sm ml-auto",attrs:{type:"button"},on:{click:function(a){return t.addToCart(e)}}},[t._v(" 加到購物車 ")])])])])})),0),a("paging",{staticClass:"paging",attrs:{pagination:t.pagination},on:{"change-page":t.getProductList}})],1)},s=[],o=(a("99af"),a("d3b7"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{name:"productModal",height:"auto",clickToClose:!1}},[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"modal-header"},[t._t("header",[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.product.title))])])],2),a("div",{staticClass:"modal-body"},[t._t("body",[a("div",{staticStyle:{height:"200px","background-size":"cover","background-position":"center"},style:t.style}),a("blockquote",{staticClass:"blockquote mt-3"},[a("p",{staticClass:"mb-0",domProps:{innerHTML:t._s(t.product.content)}}),a("footer",{staticClass:"blockquote-footer text-right"},[t._v(" "+t._s(t.product.description)+" ")])]),a("div",{staticClass:"d-flex justify-content-between align-items-baseline"},[t.product.price?t._e():a("div",{staticClass:"h4"},[t._v(" "+t._s(t.product.origin_price)+" 元 ")]),t.product.price?a("del",{staticClass:"h6"},[t._v("原價 "+t._s(t.product.origin_price)+" 元")]):t._e(),t.product.price?a("div",{staticClass:"h4"},[t._v(" 現在只要 "+t._s(t.product.price)+" 元 ")]):t._e()]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mt-3",attrs:{name:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.product,"num",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0",disabled:"",selected:""}},[t._v(" 請選擇數量 ")]),t._l(5,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)])],2),a("div",{staticClass:"modal-footer"},[t._t("footer",[a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.$emit("close")}}},[t._v(" 關閉 ")]),a("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.addToCart(t.product)}}},[t._v(" 加到購物車 ")])])],2)])])])])],1)}),i=[],r={name:"ProductModal",data:function(){return{}},props:{product:{}},created:function(){},mounted:function(){this.$modal.show("productModal")},computed:{style:function(){return"backgroundImage: url(".concat(this.product.imageUrl,")")}},methods:{addToCart:function(t){console.log("modal addToCart",t),this.$emit("addToCart",t,t.num),this.$emit("close")}}},c=r,l=a("2877"),u=Object(l["a"])(c,o,i,!1,null,"655c8532",null),d=u.exports,p=a("bbe0"),h={name:"Products",components:{productModal:d,paging:p["a"]},data:function(){return{showModal:!1,products:[],product:{},pagination:{}}},created:function(){this.getProductList()},mounted:function(){},methods:{getProductList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pagination.current_page||1,a=this.$loading.show();this.axios.get("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/products?page=").concat(e)).then((function(e){t.products=e.data.data,t.pagination=e.data.meta.pagination,a.hide()})).catch((function(t){console.error(t),a.hide()}))},getProductDetail:function(t){var e=this,a=this.$loading.show();this.axios.get("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/product/").concat(t)).then((function(t){e.product=t.data.data,e.product.num=0,e.showModal=!0,a.hide()})).catch((function(t){console.error(t),a.hide()}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.deleteCartItem(t).then((function(t){console.log(t)})).catch((function(t){console.error(t)})).finally((function(){e.addCartItem(t,a)}))},deleteCartItem:function(t){return this.axios.delete("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping/").concat(t.id))},addCartItem:function(t,e){this.axios.post("https://course-ec-api.hexschool.io/api/".concat("de4aaa47-9e6a-44fb-be33-178ff34efbdc","/ec/shopping"),{product:t.id,quantity:e}).then((function(t){console.log(t)})).catch((function(t){console.error(t)}))}}},v=h,f=Object(l["a"])(v,n,s,!1,null,"589eadab",null);e["default"]=f.exports},f820:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("This is an about page")])])}],o=a("2877"),i={},r=Object(o["a"])(i,n,s,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=about.9e7a92a4.js.map